Machine Learning
================

Огляд ML компонентів
---------------------

Система використовує два типи моделей машинного навчання для прогнозування
схвалення кредитних заявок.

Моделі
------

**Model A (без кредитної історії)**
    * 10 базових ознак
    * 4 інженерні ознаки
    * Поріг: 0.35
    * Використовується в mode2

**Model B (з кредитною історією)**
    * 11 базових ознак
    * Поріг: 0.5
    * Використовується в mode1

**Ensemble (ансамбль)**
    * Комбінація Model A + Model B
    * Усереднення ймовірностей
    * Поріг: 0.5
    * Використовується в mode3

Підмодулі
---------

.. toctree::
   :maxdepth: 2

   prediction
   analytics
   services

Ознаки моделей
--------------

Базові ознаки
~~~~~~~~~~~~~

1. Gender - Стать
2. Married - Сімейний стан
3. Dependents - Кількість утриманців
4. Education - Рівень освіти
5. Self_Employed - Самозайнятість
6. ApplicantIncome - Дохід заявника
7. CoapplicantIncome - Дохід співзаявника
8. LoanAmount - Сума кредиту
9. Loan_Amount_Term - Термін кредиту
10. Credit_History - Кредитна історія (тільки Model B)
11. Property_Area - Тип місцевості

Інженерні ознаки (Model A)
~~~~~~~~~~~~~~~~~~~~~~~~~~~

1. **Total_Income**: ApplicantIncome + CoapplicantIncome
2. **Income_to_Loan**: Total_Income / (LoanAmount + 1)
3. **Loan_per_Term**: LoanAmount / (Loan_Amount_Term + 1)
4. **Is_Graduate_and_Employed**: (Education == "Graduate") AND (Self_Employed == "No")

Потік ML прогнозування
-----------------------

.. code-block:: text

    ┌─────────────────────┐
    │   Вхідні дані       │
    │  (Django forms/API) │
    └──────────┬──────────┘
               │
               ▼
    ┌─────────────────────┐
    │  transform_input()  │
    │  Маппінг полів      │
    └──────────┬──────────┘
               │
               ▼
    ┌─────────────────────┐
    │  EnsemblePredictor  │
    │  Вибір режиму       │
    └──────────┬──────────┘
               │
         ┌─────┴─────┐
         │           │
         ▼           ▼
    ┌────────┐  ┌────────┐
    │Model A │  │Model B │
    │(mode2) │  │(mode1) │
    └────┬───┘  └───┬────┘
         │          │
         └────┬─────┘
              │
              ▼
       ┌─────────────┐
       │   mode3     │
       │  Ансамбль   │
       └──────┬──────┘
              │
              ▼
       ┌─────────────┐
       │  Результат  │
       │   (0 або 1) │
       └─────────────┘

Метрики моделей
---------------

Model A (без кредитної історії)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Accuracy: ~78%
* Precision: ~76%
* Recall: ~82%
* F1-Score: ~79%

Model B (з кредитною історією)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Accuracy: ~82%
* Precision: ~80%
* Recall: ~86%
* F1-Score: ~83%

Ensemble
~~~~~~~~

* Accuracy: ~80%
* Precision: ~78%
* Recall: ~84%
* F1-Score: ~81%
